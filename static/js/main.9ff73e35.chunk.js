(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,a,t){e.exports=t.p+"static/media/like.686d74d6.svg"},32:function(e,a,t){e.exports=t.p+"static/media/logo.13e479f7.png"},36:function(e,a,t){e.exports=t.p+"static/media/unlike.2eb430c7.svg"},37:function(e,a,t){e.exports=t.p+"static/media/garbage.67cda19e.svg"},38:function(e,a,t){e.exports=t.p+"static/media/something-went-wrong.416ec287.png"},39:function(e,a,t){e.exports=t(67)},66:function(e,a,t){},67:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(31),o=t.n(c),s=t(4),i=t(8),l=t(11),m=t(10),h=t(12),u=t(9),d=t(7),k=t(32),g=t.n(k),b=function(e){return n.a.createElement("header",{className:"header"},n.a.createElement(d.b,{to:"/"},n.a.createElement("img",{src:g.a,alt:"logo",className:"logo"})))},p=t(35),E=t.n(p),f=(t(48),"https://rickandmortyapi.com/api/character/"),v=t(19),_=t.n(v),N=function e(a,t,r,n){Object(s.a)(this,e),this.id=a,this.name=t,this.image=r,this.bookmarkState=n},y=function e(a,t,r,n,c,o,i){Object(s.a)(this,e),this.id=a,this.name=t,this.species=r,this.gender=n,this.location=c,this.image=o,this.episode=i},w=new(function(){function e(){Object(s.a)(this,e)}return Object(i.a)(e,[{key:"getCharacters",value:function(e){var a,t=this;return _.a.get(f+"?page="+e).then(function(e){return a=e.data.info.pages,e.data.results}).then(function(e){var r=t.getBookmarkedCharacters();return{characters:e.map(function(e){var a=r.some(function(a){return e.id===a.id});return new N(e.id,e.name,e.image,a)}),pagesNumber:a}})}},{key:"getCharaterDetails",value:function(e){return _.a.get(f+e).then(function(e){return e.data}).then(function(e){return new y(e.id,e.name,e.species,e.gender,e.location.name,e.image,e.episode.length)})}},{key:"getBookmarkedCharacters",value:function(){var e=[];try{null===(e=JSON.parse(localStorage.getItem("bookmarkedCharacters")))&&(e=[])}catch(a){alert("Error getting bookmarked characters.")}return e}}]),e}()),C=t(36),S=t.n(C),O=t(15),j=t.n(O),x=function(e){var a=function(){e.handleBookmark(e.character)};return n.a.createElement("div",{id:e.character.id,className:"card"},e.character.bookmarkState?n.a.createElement("img",{src:j.a,onClick:a,className:"card__bookmark",alt:"bookmark"}):n.a.createElement("img",{src:S.a,onClick:a,className:"card__bookmark",alt:"bookmark"}),n.a.createElement(d.b,{to:"/character/"+e.character.id},n.a.createElement("img",{src:e.character.image,alt:"logo",className:"card__img"}),n.a.createElement("p",{className:"card__name"},e.character.name)))},B=function(){return n.a.createElement("div",{className:"lds-ring"},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null))},P=t(37),A=t.n(P),J=function(e){return n.a.createElement("div",{className:"bookmark__item"},n.a.createElement(d.b,{to:"/character/"+e.character.id,className:"bookmark__item-content"},n.a.createElement("img",{src:e.character.image,className:"bookmark__img",alt:e.character.name}),n.a.createElement("p",{className:"bookmark__text"},e.character.name)),n.a.createElement("img",{src:A.a,onClick:function(){e.handleBookmark(e.character)},className:"bookmark__garbage",alt:"trash"}))},I=function(e){return n.a.createElement("div",{className:"bookmark"},n.a.createElement("div",{className:"bookmark__container"},n.a.createElement("img",{src:j.a,className:"bookmark__icon",alt:"bookmark"}),n.a.createElement("p",{className:"bookmark__number"},e.characters.length),n.a.createElement("div",{className:"bookmark__box"},0===e.characters.length?n.a.createElement("div",{className:"bookmark__item"},n.a.createElement("div",{className:"bookmark__item-content"},n.a.createElement("p",{className:"bookmark__text"},"No bookmarked characters"))):e.characters.map(function(a,t){return n.a.createElement(J,{character:a,handleBookmark:e.handleBookmark,key:t})}))))},L=t(38),D=t.n(L),M=function(e){return n.a.createElement("div",{className:"serviceError"},n.a.createElement("img",{src:D.a,className:"serviceError__img",alt:"Something went wrong!"}),n.a.createElement("p",{className:"serviceError__text"},"Ooops! Something went wrong!"))},W=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(l.a)(this,Object(m.a)(a).call(this,e))).handleBookmark=function(e){e.bookmarkState=!e.bookmarkState;for(var a=w.getBookmarkedCharacters(),r=!1,n=0;n<a.length;n++)if(e.id===a[n].id){a.splice(n,1),r=!0;break}r||a.push(e),localStorage.setItem("bookmarkedCharacters",JSON.stringify(a));for(var c=t.state.charactersArray,o=0;o<c.length;o++)if(e.id===c[o].id){c[o].bookmarkState=e.bookmarkState;break}t.setState({charactersArray:c,bookmarkArray:a})},t.changeCurrentPage=function(e){t.loadCharacters(e),t.setState({currentPage:e,showLoading:!0}),localStorage.setItem("currentPage",JSON.stringify(e))},t.state={charactersArray:null,currentPage:1,bookmarkArray:[],showLoading:!0,error:!1},t}return Object(h.a)(a,e),Object(i.a)(a,[{key:"loadCharacters",value:function(e){var a=this;w.getCharacters(e).then(function(e){a.setState({charactersArray:e.characters,pagesNumber:e.pagesNumber,showLoading:!1,error:!1});var t=w.getBookmarkedCharacters();a.setState({bookmarkArray:t})}).catch(function(){a.setState({error:!0})})}},{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("currentPage"));e?(this.loadCharacters(e),this.setState({currentPage:e})):this.loadCharacters()}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,this.state.error?n.a.createElement(M,null):n.a.createElement("div",{className:"container"},this.state.showLoading?n.a.createElement(B,null):n.a.createElement("div",null,n.a.createElement(I,{characters:this.state.bookmarkArray,handleBookmark:this.handleBookmark}),n.a.createElement("div",{className:"characters-content"},this.state.charactersArray.map(function(a,t){return n.a.createElement(x,{key:t,handleBookmark:e.handleBookmark,character:a})})),n.a.createElement(E.a,{currentPage:this.state.currentPage,totalPages:this.state.pagesNumber,changeCurrentPage:this.changeCurrentPage,theme:"square-fill"}))))}}]),a}(n.a.Component),q=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(l.a)(this,Object(m.a)(a).call(this,e))).state={character:null,error:!1},t}return Object(h.a)(a,e),Object(i.a)(a,[{key:"loadCharacter",value:function(){var e=this;w.getCharaterDetails(this.props.match.params.id).then(function(a){e.setState({character:a})}).catch(function(){e.setState({error:!0})})}},{key:"componentDidMount",value:function(){this.loadCharacter()}},{key:"render",value:function(){return n.a.createElement("div",null,this.state.error?n.a.createElement(M,null):n.a.createElement("div",{className:"container"},this.state.character?n.a.createElement("div",{className:"details"},n.a.createElement("img",{src:this.state.character.image,alt:"character",className:"details__img"}),n.a.createElement("div",{className:"details__info"},n.a.createElement("p",{className:"details__text"},"Name: ",this.state.character.name),n.a.createElement("p",{className:"details__text"},"Gender: ",this.state.character.gender),n.a.createElement("p",{className:"details__text"},"Location: ",this.state.character.location),n.a.createElement("p",{className:"details__text"},"Species: ",this.state.character.species),n.a.createElement("p",{className:"details__text"},"Number of episodes: ",this.state.character.episode))):n.a.createElement(B,null)))}}]),a}(n.a.Component),G=function(e){function a(){return Object(s.a)(this,a),Object(l.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(b,null),n.a.createElement("div",null,n.a.createElement(u.d,null,n.a.createElement(u.b,{exact:!0,path:"/",component:W}),n.a.createElement(u.b,{path:"/character/:id",component:q}),n.a.createElement(u.a,{to:"/"}))))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(66);o.a.render(n.a.createElement(d.a,null,n.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[39,1,2]]]);
//# sourceMappingURL=main.9ff73e35.chunk.js.map